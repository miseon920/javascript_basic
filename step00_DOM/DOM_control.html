<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>DOM 01</title>
    <style>
      * {
        color: #444;
        text-decoration: none;
      }

      .gnb > ul > li.on a {
        color: #f00;
      }
    </style>
  </head>

  <body>
    <nav class="gnb">
      <ul>
        <li class="on"><a href="">menu01</a></li>
        <li><a href="">menu02</a></li>
        <li><a href="">menu03</a></li>
        <li><a href="">menu04</a></li>
        <li><a href="">menu05</a></li>
      </ul>
    </nav>
    <section class="sum">
      <ul>
        <li>menu01</li>
        <li>menu02</li>
        <li>menu03</li>
        <li>menu04</li>
      </ul>
      <div class="content">
        <div>content01</div>
        <div>content02</div>
        <div>content03</div>
        <div>content04</div>
      </div>
    </section>
    <script>
      /*
        DOMContentLoaded – 브라우저가 HTML을 전부 읽고 DOM 트리를 완성하는 즉시 발생
        DOMContentLoaded 이벤트는 document 객체에서 발생합니다.
        따라서 이 이벤트를 다루려면 addEventListener를 사용해야 합니다.
        */
      window.addEventListener("DOMContentLoaded", function () {
        const UL = document.querySelector("#gnb");
        const LI = document.querySelectorAll("#gnb li");

        LI.forEach(function (el, idx) {
          el.addEventListener("click", function (e) {
            e.preventDefault();
            LI.forEach(function (el) {
              el.classList.remove("on");
            });
            el.classList.add("on");
            console.log(e.target, e.currentTarget, this);
          });
        });

        const TUL = document.querySelector(".sum ul");
        const TLI = document.querySelectorAll(".sum ul li");
        const TCONTENT = document.querySelectorAll(".content > div");

        TLI.forEach((elm, idx) => {
          //2개이상일때는 괄호사용
          //console.log(elm, idx);
          elm.addEventListener("click", function () {
            TLI.forEach((el) => el.classList.remove("on"));
            elm.classList.add("on");
            TCONTENT.forEach((el) => el.classList.remove("on"));
            TCONTENT[idx].classList.add("on");
          });
        });
      });
    </script>
  </body>
</html>
