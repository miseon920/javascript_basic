<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>

  <body>
    <ul id="UL"></ul>
    <script>
      window.addEventListener("DOMContentLoaded", () => {
        const DATA = [
          { id: 1, content: "나는 메로나다.", date: "2022년 7월 21일" },
          { id: 2, content: "나는 바밤바다.", date: "2022년 7월 20일" },
          { id: 3, content: "나는 월드콘다.", date: "2022년 6월 21일" },
          { id: 4, content: "나는 거북이다.", date: "2022년 7월 12일" },
          { id: 5, content: "나는 메로나다.", date: "2022년 3월 10일" },
        ];

        //const RESULT = DATA.filter(el => el.id !== 3);
        let LIST = DATA.map((data) => `<li>${data.content}</li>`);
        let RESULT = [];
        UL.innerHTML = LIST.join("");
        let LI = document.querySelectorAll("#UL li");
        const li_len = LI.length;
        //console.log(li_len);
        for (let i = 0; i < li_len; i++) {
          const btn = document.createElement("button");
          btn.innerText = "button";
          console.log(LI[i]);
          LI[i].appendChild(btn);
        }
        //LI.append(btn);
        let BTN = document.querySelectorAll("#UL li button");
        BTN.forEach((el, idx) => {
          el.addEventListener("click", (e) => {
            const li = e.target.parentElement;
            console.log(li);
            //console.log(idx);
            //li.remove();
            e.preventDefault();
            RESULT = DATA.filter((el) => el.id !== idx + 1);
            console.log(typeof RESULT);
            const BTN2 = li.querySelector("button");
            LIST = RESULT.map(
              (data) => `<li>${data.content}<button>button</button></li>`
            );
            UL.innerHTML = LIST.join("");
            console.log(RESULT, BTN2);
          });
        });
      });
    </script>
  </body>
</html>
